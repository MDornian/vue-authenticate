/*!
 * vue-authenticate v1.4.12
 * https://github.com/mdornian/vue-authenticate
 * @license Released under the MIT License.
 */
var VueAuthenticate=function(){"use strict";function t(t){return void 0===t}function e(t){return null!==t&&"object"==typeof t}function o(t){return"function"==typeof t}function r(t,e){return null==t||null==e||Object.keys(e).forEach((function(o){"[object Object]"==Object.prototype.toString.call(e[o])?"[object Object]"!=Object.prototype.toString.call(t[o])?t[o]=e[o]:t[o]=r(t[o],e[o]):t[o]=e[o]})),t}function n(t,e){if(/^(?:[a-z]+:)?\/\//i.test(e))return e;var o=[t,e].join("/");return o.replace(/[\/]+/g,"/").replace(/\/\?/g,"?").replace(/\/\#/g,"#").replace(/\:\//g,"://")}function i(t){var e="https:"===t.protocol;return t.protocol+"//"+t.hostname+":"+(t.port||(e?"443":"80"))+(/^\//.test(t.pathname)?t.pathname:"/"+t.pathname)}function a(t){var e,o,r={};return(t||"").split("&").forEach((function(t){t&&(o=t.split("="),e=decodeURIComponent(o[0]),r[e]=!o[1]||decodeURIComponent(o[1]))})),r}function s(t){var e;if("undefined"!=typeof module&&module.exports)try{e=require("buffer").Buffer}catch(t){}var o=String.fromCharCode,r=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),n=function(t){switch(t.length){case 4:var e=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return o(55296+(e>>>10))+o(56320+(1023&e));case 3:return o((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return o((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}};return(e?function(t){return(t.constructor===e.constructor?t:new e(t,"base64")).toString()}:function(t){return atob(t).replace(r,n)})(String(t).replace(/[-_]/g,(function(t){return"-"===t?"+":"/"})).replace(/[^A-Za-z0-9\+\/]/g,""))}function p(t){var e=t.path,o=t.domain,r=t.expires,n=t.secure;return[null==e?"":";path="+e,null==o?"":";domain="+o,null==r?"":";expires="+r.toUTCString(),null==n||!1===n?"":";secure"].join("")}function u(t,e,o){return[encodeURIComponent(t),"=",encodeURIComponent(e),p(o)].join("")}"function"!=typeof Object.assign&&(Object.assign=function(t,e){var o=arguments;if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(t),n=1;n<arguments.length;n++){var i=o[n];if(null!=i)for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])}return r});var c=setTimeout;function h(){}function l(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],y(t,this)}function f(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,l._immediateFn((function(){var o=1===t._state?e.onFulfilled:e.onRejected;if(null!==o){var r;try{r=o(t._value)}catch(t){return void g(e.promise,t)}d(e.promise,r)}else(1===t._state?d:g)(e.promise,t._value)}))):t._deferreds.push(e)}function d(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var o=e.then;if(e instanceof l)return t._state=3,t._value=e,void m(t);if("function"==typeof o)return void y((r=o,n=e,function(){r.apply(n,arguments)}),t)}t._state=1,t._value=e,m(t)}catch(e){g(t,e)}var r,n}function g(t,e){t._state=2,t._value=e,m(t)}function m(t){2===t._state&&0===t._deferreds.length&&l._immediateFn((function(){t._handled||l._unhandledRejectionFn(t._value)}));for(var e=0,o=t._deferreds.length;e<o;e++)f(t,t._deferreds[e]);t._deferreds=null}function v(t,e,o){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=o}function y(t,e){var o=!1;try{t((function(t){o||(o=!0,d(e,t))}),(function(t){o||(o=!0,g(e,t))}))}catch(t){if(o)return;o=!0,g(e,t)}}l.prototype.catch=function(t){return this.then(null,t)},l.prototype.then=function(t,e){var o=new this.constructor(h);return f(this,new v(t,e,o)),o},l.all=function(t){var e=Array.prototype.slice.call(t);return new l((function(t,o){if(0===e.length)return t([]);var r=e.length;function n(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(t){n(i,t)}),o)}e[i]=a,0==--r&&t(e)}catch(t){o(t)}}for(var i=0;i<e.length;i++)n(i,e[i])}))},l.resolve=function(t){return t&&"object"==typeof t&&t.constructor===l?t:new l((function(e){e(t)}))},l.reject=function(t){return new l((function(e,o){o(t)}))},l.race=function(t){return new l((function(e,o){for(var r=0,n=t.length;r<n;r++)t[r].then(e,o)}))},l._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){c(t,0)},l._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},l._setImmediateFn=function(t){l._immediateFn=t},l._setUnhandledRejectionFn=function(t){l._unhandledRejectionFn=t};var w=void 0!==typeof document?document:{createElement:function(){}},C=void 0!==typeof window?window:{atob:function(){},open:function(){},location:{},localStorage:{setItem:function(){},getItem:function(){},removeItem:function(){}},sessionStorage:{setItem:function(){},getItem:function(){},removeItem:function(){}}};function _(){try{return C.location.hostname}catch(t){}return""}function k(e){try{return t(e)?C.location.origin:""+C.location.origin+e}catch(t){}return e||null}var b={baseUrl:null,tokenPath:"access_token",tokenName:"token",tokenPrefix:"vueauth",tokenHeader:"Authorization",tokenType:"Bearer",loginUrl:"/auth/login",registerUrl:"/auth/register",logoutUrl:null,defaultStorageType:"localStorage",storageNamespace:"vue-authenticate",cookieStorage:{domain:_(),path:"/",secure:!1},requestDataKey:"data",responseDataKey:"data",bindRequestInterceptor:function(t){var e=t.options.tokenHeader;t.$http.interceptors.request.use((function(o){return t.isAuthenticated()?o.headers[e]=[t.options.tokenType,t.getToken()].join(" "):delete o.headers[e],o}))},getTokenName:function(){return this.tokenPrefix?[this.tokenPrefix,this.tokenName].join("_"):this.tokenName},providers:{facebook:{name:"facebook",url:"/auth/facebook",authorizationEndpoint:"https://www.facebook.com/v2.5/dialog/oauth",redirectUri:k("/"),requiredUrlParams:["display","scope"],scope:["email"],scopeDelimiter:",",display:"popup",oauthType:"2.0",popupOptions:{width:580,height:400}},google:{name:"google",url:"/auth/google",authorizationEndpoint:"https://accounts.google.com/o/oauth2/auth",redirectUri:k(),requiredUrlParams:["scope"],optionalUrlParams:["display"],scope:["profile","email"],scopePrefix:"openid",scopeDelimiter:" ",display:"popup",oauthType:"2.0",popupOptions:{width:452,height:633}},github:{name:"github",url:"/auth/github",authorizationEndpoint:"https://github.com/login/oauth/authorize",redirectUri:k(),optionalUrlParams:["scope"],scope:["user:email"],scopeDelimiter:" ",oauthType:"2.0",popupOptions:{width:1020,height:618}},instagram:{name:"instagram",url:"/auth/instagram",authorizationEndpoint:"https://api.instagram.com/oauth/authorize",redirectUri:k(),requiredUrlParams:["scope"],scope:["basic"],scopeDelimiter:"+",oauthType:"2.0",popupOptions:{width:null,height:null}},twitter:{name:"twitter",url:"/auth/twitter",authorizationEndpoint:"https://api.twitter.com/oauth/authenticate",redirectUri:k(),oauthType:"1.0",popupOptions:{width:495,height:645}},bitbucket:{name:"bitbucket",url:"/auth/bitbucket",authorizationEndpoint:"https://bitbucket.org/site/oauth2/authorize",redirectUri:k("/"),optionalUrlParams:["scope"],scope:["email"],scopeDelimiter:" ",oauthType:"2.0",popupOptions:{width:1020,height:618}},linkedin:{name:"linkedin",url:"/auth/linkedin",authorizationEndpoint:"https://www.linkedin.com/oauth/v2/authorization",redirectUri:k(),requiredUrlParams:["state"],scope:["r_emailaddress"],scopeDelimiter:" ",state:"STATE",oauthType:"2.0",popupOptions:{width:527,height:582}},live:{name:"live",url:"/auth/live",authorizationEndpoint:"https://login.live.com/oauth20_authorize.srf",redirectUri:k(),requiredUrlParams:["display","scope"],scope:["wl.emails"],scopeDelimiter:" ",display:"popup",oauthType:"2.0",popupOptions:{width:500,height:560}},oauth1:{name:null,url:"/auth/oauth1",authorizationEndpoint:null,redirectUri:k(),oauthType:"1.0",popupOptions:null},oauth2:{name:null,url:"/auth/oauth2",clientId:null,redirectUri:k(),authorizationEndpoint:null,defaultUrlParams:["response_type","client_id","redirect_uri"],requiredUrlParams:null,optionalUrlParams:null,scope:null,scopePrefix:null,scopeDelimiter:null,state:null,oauthType:"2.0",popupOptions:null,responseType:"code",responseParams:{code:"code",clientId:"clientId",redirectUri:"redirectUri"}}}},I=function(t){this._defaultOptions=r({domain:_(),expires:null,path:"/",secure:!1},t)};I.prototype.setItem=function(t,e){var o=u(t,e,r({},this._defaultOptions));this._setCookie(o)},I.prototype.getItem=function(t){var e=function(t){if(void 0===t&&(t=""),0===t.length)return{};var e={},o=new RegExp("\\s*;\\s*");return t.split(o).forEach((function(t){var o=t.split("="),r=o[0],n=o[1],i=decodeURIComponent(r),a=decodeURIComponent(n);e[i]=a})),e}(this._getCookie());return e.hasOwnProperty(t)?e[t]:null},I.prototype.removeItem=function(t){var e=r({},this._defaultOptions),o=u(t,"",r(e,{expires:new Date(0)}));this._setCookie(o)},I.prototype._getCookie=function(){try{return"undefined"===w.cookie?"":w.cookie}catch(t){}return""},I.prototype._setCookie=function(t){try{w.cookie=t}catch(t){}};var U=function(t){this.namespace=t||null};U.prototype.setItem=function(t,e){C.localStorage.setItem(this._getStorageKey(t),e)},U.prototype.getItem=function(t){return C.localStorage.getItem(this._getStorageKey(t))},U.prototype.removeItem=function(t){C.localStorage.removeItem(this._getStorageKey(t))},U.prototype._getStorageKey=function(t){return this.namespace?[this.namespace,t].join("."):t};var T=function(t){this.namespace=t||null,this._storage={}};T.prototype.setItem=function(t,e){this._storage[this._getStorageKey(t)]=e},T.prototype.getItem=function(t){return this._storage[this._getStorageKey(t)]},T.prototype.removeItem=function(t){delete this._storage[this._getStorageKey(t)]},T.prototype._getStorageKey=function(t){return this.namespace?[this.namespace,t].join("."):t};var P=function(t){this.namespace=t||null};P.prototype.setItem=function(t,e){C.sessionStorage.setItem(this._getStorageKey(t),e)},P.prototype.getItem=function(t){return C.sessionStorage.getItem(this._getStorageKey(t))},P.prototype.removeItem=function(t){C.sessionStorage.removeItem(this._getStorageKey(t))},P.prototype._getStorageKey=function(t){return this.namespace?[this.namespace,t].join("."):t};var S=function(t){var e=t.defaultStorageType||"memoryStorage",o={};Object.defineProperties(this,{storageType:{get:function(){return e},set:function(t){e=t}},storageLocations:{get:function(){return o}}}),this.loadStorageLocations(t);var r=t.getTokenName();for(var n in this.storageLocations)if(this.storageLocations[n].getItem(r)){this.storageType=n;break}};S.prototype.loadStorageLocations=function(t){try{C.localStorage.setItem("testKey","test"),C.localStorage.removeItem("testKey"),this.storageLocations.localStorage=new U(t.storageNamespace)}catch(t){}try{C.sessionStorage.setItem("testKey","test"),C.sessionStorage.removeItem("testKey"),this.storageLocations.sessionStorage=new P(t.storageNamespace)}catch(t){}this.storageLocations.cookieStorage=new I(t.cookieStorage),this.storageLocations.memoryStorage=new T(t.storageNamespace)},S.prototype.setStorageType=function(t,e){for(var o in this.storageLocations)o===t?this.storageType=t:e&&this.storageLocations[o].removeItem(e)},S.prototype.setItem=function(t,e){this.storageLocations[this.storageType].setItem(t,e)},S.prototype.getItem=function(t){return this.storageLocations[this.storageType].getItem(t)},S.prototype.removeItem=function(t){this.storageLocations[this.storageType].removeItem(t)};var O=function(t,e,o){this.popup=null,this.url=t,this.name=e,this.popupOptions=o};O.prototype.open=function(t,e){try{return this.popup=C.open(this.url,this.name,this._stringifyOptions()),this.popup&&this.popup.focus&&this.popup.focus(),e?l.resolve():this.pooling(t)}catch(t){return l.reject(new Error("OAuth popup error occurred"))}},O.prototype.pooling=function(t){var e=this;return new l((function(o,n){var s=w.createElement("a");s.href=t;var p=i(s),u=setInterval((function(){e.popup&&!e.popup.closed&&void 0!==e.popup.closed||(clearInterval(u),u=null,n(new Error("Auth popup window closed")));try{if(i(e.popup.location)===p){if(e.popup.location.search||e.popup.location.hash){var t=a(e.popup.location.search.substring(1).replace(/\/$/,"")),s=a(e.popup.location.hash.substring(1).replace(/[\/$]/,"")),c=r({},t);(c=r(c,s)).error?n(new Error(c.error)):o(c)}else n(new Error("OAuth redirect has occurred but no query or hash parameters were found."));clearInterval(u),u=null,e.popup.close()}}catch(t){}}),250)}))},O.prototype._stringifyOptions=function(){var e=[];for(var o in this.popupOptions)t(this.popupOptions[o])||e.push(o+"="+this.popupOptions[o]);return e.join(",")};var j={name:null,url:null,authorizationEndpoint:null,scope:null,scopePrefix:null,scopeDelimiter:null,redirectUri:null,requiredUrlParams:null,defaultUrlParams:null,oauthType:"1.0",popupOptions:{}},E=function(t,e,o,n){this.$http=t,this.storage=e,this.providerConfig=r({},j),this.providerConfig=r(this.providerConfig,o),this.options=n};E.prototype.init=function(t){var e=this;return this.oauthPopup=new O("about:blank",this.providerConfig.name,this.providerConfig.popupOptions),C.cordova||this.oauthPopup.open(this.providerConfig.redirectUri,!0),this.getRequestToken().then((function(o){return e.openPopup(o).then((function(o){return e.exchangeForToken(o,t)}))}))},E.prototype.getRequestToken=function(){var t={method:"POST"};return t[this.options.requestDataKey]=r({},this.providerConfig),t.withCredentials=this.options.withCredentials,this.options.baseUrl?t.url=n(this.options.baseUrl,this.providerConfig.url):t.url=this.providerConfig.url,this.$http(t)},E.prototype.openPopup=function(t){var e=[this.providerConfig.authorizationEndpoint,this.buildQueryString(t[this.options.responseDataKey])].join("?");return this.oauthPopup.popup.location=e,C.cordova?this.oauthPopup.open(this.providerConfig.redirectUri):this.oauthPopup.pooling(this.providerConfig.redirectUri)},E.prototype.exchangeForToken=function(t,e){var o=r({},e);o=r(o,t);var i={method:"POST"};return i[this.options.requestDataKey]=o,i.withCredentials=this.options.withCredentials,this.options.baseUrl?i.url=n(this.options.baseUrl,this.providerConfig.url):i.url=this.providerConfig.url,this.$http(i)},E.prototype.buildQueryString=function(t){var e=[];for(var o in t){var r=t[o];e.push(encodeURIComponent(o)+"="+encodeURIComponent(r))}return e.join("&")};var q={name:null,url:null,clientId:null,authorizationEndpoint:null,redirectUri:null,scope:null,scopePrefix:null,scopeDelimiter:null,state:null,requiredUrlParams:null,defaultUrlParams:["response_type","client_id","redirect_uri"],responseType:"code",responseParams:{code:"code",clientId:"clientId",redirectUri:"redirectUri"},oauthType:"2.0",popupOptions:{}},K=function(t,e,o,n){this.$http=t,this.storage=e,this.providerConfig=r({},q),this.providerConfig=r(this.providerConfig,o),this.options=n};K.prototype.init=function(t){var e=this,r=this.providerConfig.name+"_state";o(this.providerConfig.state)?this.storage.setItem(r,this.providerConfig.state()):"string"==typeof this.providerConfig.state&&this.storage.setItem(r,this.providerConfig.state);var n=[this.providerConfig.authorizationEndpoint,this._stringifyRequestParams()].join("?");return this.oauthPopup=new O(n,this.providerConfig.name,this.providerConfig.popupOptions),new Promise((function(o,n){e.oauthPopup.open(e.providerConfig.redirectUri).then((function(i){return"token"!==e.providerConfig.responseType&&e.providerConfig.url?i.state&&i.state!==e.storage.getItem(r)?n(new Error("State parameter value does not match original OAuth request state value")):void o(e.exchangeForToken(i,t)):o(i)})).catch((function(t){n(t)}))}))},K.prototype.exchangeForToken=function(t,e){var o,i=r({},e);for(var a in this.providerConfig.responseParams)switch(this.providerConfig.responseParams[a],a){case"code":i[a]=t.code;break;case"clientId":i[a]=this.providerConfig.clientId;break;case"redirectUri":i[a]=this.providerConfig.redirectUri;break;default:i[a]=t[a]}return t.state&&(i.state=t.state),o=this.options.baseUrl?n(this.options.baseUrl,this.providerConfig.url):this.providerConfig.url,this.$http.post(o,i,{withCredentials:this.options.withCredentials})},K.prototype._stringifyRequestParams=function(){var t=this,e=[];return["defaultUrlParams","requiredUrlParams","optionalUrlParams"].forEach((function(r){t.providerConfig[r]&&Array.isArray(t.providerConfig[r])&&t.providerConfig[r].forEach((function(r){var n=r.replace(/([\:\-\_]+(.))/g,(function(t,e,o,r){return r?o.toUpperCase():o})),i=o(t.providerConfig[r])?t.providerConfig[r]():t.providerConfig[n];if("redirect_uri"!==r||i){if("state"===r){var a=t.providerConfig.name+"_state";i=encodeURIComponent(t.storage.getItem(a))}"scope"===r&&Array.isArray(i)&&(i=i.join(t.providerConfig.scopeDelimiter),t.providerConfig.scopePrefix&&(i=[t.providerConfig.scopePrefix,i].join(t.providerConfig.scopeDelimiter))),e.push([r,i])}}))})),e.map((function(t){return t.join("=")})).join("&")};var A=function(t,e){var n=r({},b);n=r(n,e);var i=new S(n);if(Object.defineProperties(this,{$http:{get:function(){return t}},options:{get:function(){return n}},storage:{get:function(){return i}},tokenName:{get:function(){return n.getTokenName()}}}),!this.options.bindRequestInterceptor||!o(this.options.bindRequestInterceptor))throw new Error("Request interceptor must be functions");this.options.bindRequestInterceptor.call(this,this)};function D(t,e){if(!D.installed){D.installed=!0;var o=null;Object.defineProperties(t.prototype,{$auth:{get:function(){if(!o){if(!this.$http)throw new Error("Request handler instance not found");o=new A(this.$http,e)}return o}}})}}return A.prototype.isAuthenticated=function(){var t=this.storage.getItem(this.tokenName);if(t){if(3===t.split(".").length)try{var e=t.split(".")[1].replace("-","+").replace("_","/"),o=JSON.parse(C.atob(e)).exp;if("number"==typeof o)return Math.round((new Date).getTime()/1e3)<o}catch(t){return!0}return!0}return!1},A.prototype.getToken=function(){return this.storage.getItem(this.tokenName)},A.prototype.setToken=function(t,o){t[this.options.responseDataKey]&&(t=t[this.options.responseDataKey]);var r=function(t,o){for(var r=void 0,n=t,i=o.split("."),a=0;a<i.length;a++){var s=i[a];if(!e(r=n[s]))break;n=n[s]}return r}(t,o||this.options.tokenPath);r&&this.storage.setItem(this.tokenName,r)},A.prototype.removeToken=function(){this.storage.removeItem(this.tokenName)},A.prototype.getPayload=function(){var t=this.storage.getItem(this.tokenName);if(t&&3===t.split(".").length)try{var e=t.split(".")[1].replace("-","+").replace("_","/");return JSON.parse(s(e))}catch(t){}},A.prototype.login=function(t,e,o){var r=this;return(e=e||{}).url=e.url?e.url:n(this.options.baseUrl,this.options.loginUrl),e[this.options.requestDataKey]=t||e[this.options.requestDataKey],e.method=e.method||"POST",e.withCredentials=e.withCredentials||this.options.withCredentials,this.$http(e).then((function(t){return o&&r.setStorageType(o),r.setToken(t),t}))},A.prototype.setStorageType=function(t){this.storage.setStorageType(t,this.tokenName)},A.prototype.register=function(t,e){var o=this;return(e=e||{}).url=e.url?e.url:n(this.options.baseUrl,this.options.registerUrl),e[this.options.requestDataKey]=t||e[this.options.requestDataKey],e.method=e.method||"POST",e.withCredentials=e.withCredentials||this.options.withCredentials,this.$http(e).then((function(t){return o.setToken(t),t}))},A.prototype.logout=function(t){var e=this;return this.isAuthenticated()?(t=t||{}).url||this.options.logoutUrl?(t.url=t.url?t.url:n(this.options.baseUrl,this.options.logoutUrl),t.method=t.method||"POST",t[this.options.requestDataKey]=t[this.options.requestDataKey]||void 0,t.withCredentials=t.withCredentials||this.options.withCredentials,this.$http(t).then((function(t){e.storage.removeItem(e.tokenName)}))):(this.storage.removeItem(this.tokenName),l.resolve()):l.reject(new Error("There is no currently authenticated user"))},A.prototype.authenticate=function(t,e){var o=this;return new l((function(r,n){var i,a=o.options.providers[t];if(!a)return n(new Error("Unknown provider"));switch(a.oauthType){case"1.0":i=new E(o.$http,o.storage,a,o.options);break;case"2.0":i=new K(o.$http,o.storage,a,o.options);break;default:return n(new Error("Invalid OAuth type"))}return i.init(e).then((function(t){return o.setToken(t,a.tokenPath),o.isAuthenticated()?r(t):n(new Error("Authentication failed"))})).catch((function(t){return n(t)}))}))},A.prototype.link=function(t,e){var o=this;return new l((function(r,n){var i,a=o.options.providers[t];if(!a)return n(new Error("Unknown provider"));switch(a.oauthType){case"1.0":i=new E(o.$http,o.storage,a,o.options);break;case"2.0":i=new K(o.$http,o.storage,a,o.options);break;default:return n(new Error("Invalid OAuth type"))}return i.init(e).then((function(t){t[o.options.responseDataKey]&&(t=t[o.options.responseDataKey]),r(t)})).catch(n)}))},D.factory=function(t,e){return new A(t,e)},D}();
